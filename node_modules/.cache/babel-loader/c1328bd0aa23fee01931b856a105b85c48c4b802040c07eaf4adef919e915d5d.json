{"ast":null,"code":"import React,{useState,useEffect}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const DownloadPage=()=>{const[files,setFiles]=useState([]);useEffect(()=>{const fetchFiles=async()=>{try{const response=await fetch('http://localhost:3000/DownloadPage');// Endpoint to list files\nif(response.ok){const data=await response.json();setFiles(data.Files);// Assuming the response contains a list of filenames in `Files` key\n}else{console.error('Failed to fetch files');}}catch(error){console.error('Error fetching files:',error);}};fetchFiles();},[]);const handleDownload=filename=>{// Create a link element and trigger a download\nconst link=document.createElement('a');link.href=`http://localhost:3000/download/${filename}`;// Download endpoint\nlink.download=filename;// Optional: specifies the name for the downloaded file\ndocument.body.appendChild(link);link.click();document.body.removeChild(link);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Available Files\"}),/*#__PURE__*/_jsx(\"ul\",{children:files.map((file,index)=>/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDownload(file),children:file})},index))})]});};export default DownloadPage;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","DownloadPage","files","setFiles","fetchFiles","response","fetch","ok","data","json","Files","console","error","handleDownload","filename","link","document","createElement","href","download","body","appendChild","click","removeChild","children","map","file","index","onClick"],"sources":["C:/Users/ASUS/OneDrive/Documents/FUNBUG/websiteLearning/client/src/Page/DownloadPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nexport const DownloadPage = () => {\r\n  const [files, setFiles] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchFiles = async () => {\r\n      try {\r\n        const response = await fetch('http://localhost:3000/DownloadPage'); // Endpoint to list files\r\n        if (response.ok) {\r\n          const data = await response.json();\r\n          setFiles(data.Files); // Assuming the response contains a list of filenames in `Files` key\r\n        } else {\r\n          console.error('Failed to fetch files');\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching files:', error);\r\n      }\r\n    };\r\n\r\n    fetchFiles();\r\n  }, []);\r\n\r\n  const handleDownload = (filename) => {\r\n    // Create a link element and trigger a download\r\n    const link = document.createElement('a');\r\n    link.href = `http://localhost:3000/download/${filename}`; // Download endpoint\r\n    link.download = filename; // Optional: specifies the name for the downloaded file\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>Available Files</h1>\r\n      <ul>\r\n        {files.map((file, index) => (\r\n          <li key={index}>\r\n            <button onClick={() => handleDownload(file)}>{file}</button>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DownloadPage;\r\n\r\n\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEnD,MAAO,MAAM,CAAAC,YAAY,CAAGA,CAAA,GAAM,CAChC,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGR,QAAQ,CAAC,EAAE,CAAC,CAEtCC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAQ,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,oCAAoC,CAAC,CAAE;AACpE,GAAID,QAAQ,CAACE,EAAE,CAAE,CACf,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAH,QAAQ,CAACI,IAAI,CAAC,CAAC,CAClCN,QAAQ,CAACK,IAAI,CAACE,KAAK,CAAC,CAAE;AACxB,CAAC,IAAM,CACLC,OAAO,CAACC,KAAK,CAAC,uBAAuB,CAAC,CACxC,CACF,CAAE,MAAOA,KAAK,CAAE,CACdD,OAAO,CAACC,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CAC/C,CACF,CAAC,CAEDR,UAAU,CAAC,CAAC,CACd,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAS,cAAc,CAAIC,QAAQ,EAAK,CACnC;AACA,KAAM,CAAAC,IAAI,CAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC,CACxCF,IAAI,CAACG,IAAI,CAAG,kCAAkCJ,QAAQ,EAAE,CAAE;AAC1DC,IAAI,CAACI,QAAQ,CAAGL,QAAQ,CAAE;AAC1BE,QAAQ,CAACI,IAAI,CAACC,WAAW,CAACN,IAAI,CAAC,CAC/BA,IAAI,CAACO,KAAK,CAAC,CAAC,CACZN,QAAQ,CAACI,IAAI,CAACG,WAAW,CAACR,IAAI,CAAC,CACjC,CAAC,CAED,mBACEf,KAAA,QAAAwB,QAAA,eACE1B,IAAA,OAAA0B,QAAA,CAAI,iBAAe,CAAI,CAAC,cACxB1B,IAAA,OAAA0B,QAAA,CACGtB,KAAK,CAACuB,GAAG,CAAC,CAACC,IAAI,CAAEC,KAAK,gBACrB7B,IAAA,OAAA0B,QAAA,cACE1B,IAAA,WAAQ8B,OAAO,CAAEA,CAAA,GAAMf,cAAc,CAACa,IAAI,CAAE,CAAAF,QAAA,CAAEE,IAAI,CAAS,CAAC,EADrDC,KAEL,CACL,CAAC,CACA,CAAC,EACF,CAAC,CAEV,CAAC,CAED,cAAe,CAAA1B,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}